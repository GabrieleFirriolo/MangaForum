@page
@model PostsModel
@{
    int Num = 0;
    bool check = false;
}
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="&amp;gt; [Topic]">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Post</title>
    <link rel="stylesheet" href="~/css/nicepage.css" media="screen">
    <link rel="stylesheet" href="~/css/Post.css" media="screen">
    <script class="u-script" type="text/javascript" src="~/css/jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="~/css/nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.9.5, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:200,300,400,500,600,700">



    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Post">
    <meta property="og:type" content="website">
</head>
<section class="u-clearfix u-image u-shading u-section-1" id="sec-77ab" data-image-width="1000" data-image-height="1000">
    <div class="u-clearfix u-sheet u-sheet-1">
        <a asp-page="/CreateReply" class="u-border-none u-btn u-btn-round u-button-style u-hover-palette-1-light-2 u-palette-1-light-1 u-radius-13 u-btn-1">Rispondi</a>

        <div class="u-align-left u-border-1 u-border-black u-container-style u-expanded-width u-grey-40 u-group u-group-1">
            <div class="u-container-layout u-container-layout-1">
                <h1 class="u-text u-text-black u-text-1">&gt; @Model.post.Topic.Name</h1>
            </div>
        </div>
        @foreach (var item in Model.post.Replies)
        {
        @*<div style="border: 10px solid red; min-height: auto; width: 1000px">
            <div class="u-expanded-width u-table u-table-responsive u-table-1">
                <table class="u-table-entity">
                    <thead class="u-grey-50 u-table-header u-text-black u-table-header-1">
                        <tr>
                            <th class="u-align-center u-border-1 u-border-white u-grey-30 u-table-cell u-text-body-color u-table-cell-1" style="width: 25%; background-color: teal;">@item.Creator.Nome</th>
                            <th class="u-border-1 u-border-white u-grey-30 u-table-cell u-text-black u-table-cell-2" style="width: 75%; background-color: teal;">Inviato il : @item.ReplyDate</th>
                        </tr>
                    </thead>
                    <tbody class="u-palette-1-light-3 u-table-body u-table-body-1">
                        <tr>
                            <td class="u-border-1 u-border-white u-table-cell"></td>
                            <td class="u-border-1 u-border-white u-table-cell u-table-valign-top">
                                @if (!check)
                                {
                                    <br>

                                    <div class="row">
                                        <img class="u-image u-image-round u-radius-10 u-image-2" src="data:image/png;base64,@Model.post.Topic.Manga.Image" alt="" data-image-width="500" data-image-height="706">
                                        Title : @Model.post.Topic.Manga.Title<br>
                                        Author : @Model.post.Topic.Manga.Author<br>
                                        Status : @Model.post.Topic.Manga.Status
                                    </div>
                                    @item.Reply 
                                    check = true;
                                }
                                else
                                {
                                    @item.Reply
                                }

                            </td>
                        </tr>
                        <tr style="height: 25px;">
                            <td class="u-border-1 u-border-white u-grey-25 u-table-cell u-table-cell-5"></td>
                            <td class="u-border-1 u-border-white u-grey-25 u-table-cell u-table-cell-6"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p class="u-custom-font u-font-oswald u-text u-text-default u-text-2">
                <font color="#111111">@item.Creator.Email</font>
            </p>
            <img class="u-image u-image-round u-radius-6 u-image-1" src="~/images/6c33038d942006f3d68e04d531d22baa2c55b7dfc4bed3c1907b948cabe38fad64495241f9df1997a0fb54c8c3d15bc6cbb556e76e0d5a53d0f3af_1280-12.jpg" alt="" data-image-width="1280" data-image-height="800">
            <p class="u-custom-font u-font-oswald u-text u-text-default u-text-3">
                <span class="u-text-body-color">Messaggi :@APICaller.GetRepliesOfUser(item.Creator.id_User).Result.replies.Count</span>
                <span class="u-text-body-color"></span>
            </p>
            <p class="u-custom-font u-font-oswald u-text u-text-default u-text-4">
                <span class="u-text-body-color">Nazione : @item.Creator.Nazione</span>
                <span class="u-text-body-color"></span>
            </p>
         </div>*@
         <section style="border: 10px solid red; min-height: auto; width: 1000px">
             <table style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                 <tr>
                     <th style="width: 25%; background-color: teal;">
                         @item.Creator.Nome
                     </th>
                     <th style="width: 75%;background-color: teal;">
                         Inviato il : @item.ReplyDate
                     </th>
                 </tr>
                 <tr>
                     <td style="background-color: white; color: black; border: 1px solid black">
                         <p style="font-size: 22px; padding: 30px; text-align: center">
                             <img class="" style="border-radius:25%; border: 1px solid white; width:200px; height:100%; padding: 10px; " src="~/images/6c33038d942006f3d68e04d531d22baa2c55b7dfc4bed3c1907b948cabe38fad64495241f9df1997a0fb54c8c3d15bc6cbb556e76e0d5a53d0f3af_1280-12.jpg">
                             <font color="#111111">@item.Creator.Email</font><br />
                             <span class="u-text-body-color">Messaggi :@APICaller.GetRepliesOfUser(item.Creator.id_User).Result.replies.Count</span><br />
                             <span class="u-text-body-color">Nazione : @item.Creator.Nazione</span>
                         </p>
                     </td>
                     <td style="background-color: white; color: black; border: 1px solid black; padding: 20px;">
                         @if (!check)
                         {
                             <br>

                             <div class="row">
                                 <img class="u-image u-image-round u-radius-10 u-image-2" src="data:image/png;base64,@Model.post.Topic.Manga.Image" alt="" style="margin: 20px" data-image-width="500" data-image-height="706">
                                 Title : @Model.post.Topic.Manga.Title<br>
                                 Author : @Model.post.Topic.Manga.Author<br>
                                 Status : @Model.post.Topic.Manga.Status<br />
                             </div>
                             <div class="row" style="position: relative;">
                                 @item.Reply
                             </div>
                             check = true;
                         }
                         else
                         {
                             @item.Reply
                         }
                     </td>
                 </tr>
             </table>
         </section>
            Num = 0;
        }
        @*Fixare immagine da mettere solo nel post primario, mettere un tag per riconoscere il creatore del post / topic*@

    </div>
</section>